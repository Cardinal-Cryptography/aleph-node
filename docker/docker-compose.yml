version: '3'
services:

  damian:
    image: aleph-node:latest
    container_name: damian
    entrypoint: ["/bin/sh","-c"]
    command:
      - |
         ./aleph-node purge-chain --chain testnet1 --base-path /tmp/Damian -y
         ./aleph-node --validator --chain testnet1 --base-path /tmp/Damian --name Damian --node-key-file /tmp/Damian/libp2p_secret --rpc-port 9933 --ws-port 9944 --port 30334 --rpc-cors all --rpc-methods Safe --execution Native --no-prometheus --no-telemetry --reserved-only --reserved-nodes /ip4/172.28.1.1/tcp/30334/p2p/12D3KooWAbWDCsZiA6EXrXh33E7hBYUFK53b5CSajoPsYL5n2Zdm /ip4/172.28.1.2/tcp/30334/p2p/12D3KooWQdQW1Laeq869b4pdDGSVZebbjY9h9wmdNnauFeFWUKup /ip4/172.28.1.3/tcp/30334/p2p/12D3KooWD4UoT2euDnFwnSRhfUjMt6DWkMTGWV8hQm2tuNgX4j3V /ip4/172.28.1.4/tcp/30334/p2p/12D3KooWQzGBGxYx3Su9EaFMS1qtVHc2zSYdTmgRTeRGjGXj9uNg --session-period 25 --millisecs-per-block 1000
    environment:
      - RUST_LOG=info
    volumes:
      - ./data/:/tmp/
    networks:
      dev_net:
        ipv4_address: 172.28.1.1

  tomasz:
    image: aleph-node:latest
    container_name: tomasz
    entrypoint: ["/bin/sh","-c"]
    command:
      - |
         ./aleph-node purge-chain --chain testnet1 --base-path /tmp/Tomasz -y
         ./aleph-node --validator --chain testnet1 --base-path /tmp/Tomasz --name Tomasz --node-key-file /tmp/Tomasz/libp2p_secret --rpc-port 9933 --ws-port 9944 --port 30334 --rpc-cors all --rpc-methods Safe --execution Native --no-prometheus --no-telemetry --reserved-only --reserved-nodes /ip4/172.28.1.1/tcp/30334/p2p/12D3KooWAbWDCsZiA6EXrXh33E7hBYUFK53b5CSajoPsYL5n2Zdm /ip4/172.28.1.2/tcp/30334/p2p/12D3KooWQdQW1Laeq869b4pdDGSVZebbjY9h9wmdNnauFeFWUKup /ip4/172.28.1.3/tcp/30334/p2p/12D3KooWD4UoT2euDnFwnSRhfUjMt6DWkMTGWV8hQm2tuNgX4j3V /ip4/172.28.1.4/tcp/30334/p2p/12D3KooWQzGBGxYx3Su9EaFMS1qtVHc2zSYdTmgRTeRGjGXj9uNg --session-period 25 --millisecs-per-block 1000
    environment:
      - RUST_LOG=info
    volumes:
      - ./data/:/tmp/
    links:
      - "damian:damian"
    networks:
      dev_net:
        ipv4_address: 172.28.1.2

  zbyszko:
    image: aleph-node:latest
    container_name: zbyszko
    entrypoint: ["/bin/sh","-c"]
    command:
      - |
         ./aleph-node purge-chain --chain testnet1 --base-path /tmp/Zbyszko -y
         ./aleph-node --validator --chain testnet1 --base-path /tmp/Zbyszko --name Zbyszko --node-key-file /tmp/Zbyszko/libp2p_secret --rpc-port 9933 --ws-port 9944 --port 30334 --rpc-cors all --rpc-methods Safe --execution Native --no-prometheus --no-telemetry --reserved-only --reserved-nodes /ip4/172.28.1.1/tcp/30334/p2p/12D3KooWAbWDCsZiA6EXrXh33E7hBYUFK53b5CSajoPsYL5n2Zdm /ip4/172.28.1.2/tcp/30334/p2p/12D3KooWQdQW1Laeq869b4pdDGSVZebbjY9h9wmdNnauFeFWUKup /ip4/172.28.1.3/tcp/30334/p2p/12D3KooWD4UoT2euDnFwnSRhfUjMt6DWkMTGWV8hQm2tuNgX4j3V /ip4/172.28.1.4/tcp/30334/p2p/12D3KooWQzGBGxYx3Su9EaFMS1qtVHc2zSYdTmgRTeRGjGXj9uNg --session-period 25 --millisecs-per-block 1000
    environment:
      - RUST_LOG=info
    volumes:
      - ./data/:/tmp/
    links:
      - "tomasz:tomasz"
    networks:
      dev_net:
        ipv4_address: 172.28.1.3

  hansu:
    image: aleph-node:latest
    container_name: hansu
    entrypoint: ["/bin/sh","-c"]
    command:
      - |
         ./aleph-node purge-chain --chain testnet1 --base-path /tmp/Hansu -y
         ./aleph-node --validator --chain testnet1 --base-path /tmp/Hansu --name Hansu --node-key-file /tmp/Hansu/libp2p_secret --rpc-port 9933 --ws-port 9944 --port 30334 --rpc-cors all --rpc-methods Safe --execution Native --no-prometheus --no-telemetry --reserved-only --reserved-nodes /ip4/172.28.1.1/tcp/30334/p2p/12D3KooWAbWDCsZiA6EXrXh33E7hBYUFK53b5CSajoPsYL5n2Zdm /ip4/172.28.1.2/tcp/30334/p2p/12D3KooWQdQW1Laeq869b4pdDGSVZebbjY9h9wmdNnauFeFWUKup /ip4/172.28.1.3/tcp/30334/p2p/12D3KooWD4UoT2euDnFwnSRhfUjMt6DWkMTGWV8hQm2tuNgX4j3V /ip4/172.28.1.4/tcp/30334/p2p/12D3KooWQzGBGxYx3Su9EaFMS1qtVHc2zSYdTmgRTeRGjGXj9uNg --session-period 25 --millisecs-per-block 1000
    environment:
      - RUST_LOG=info
    volumes:
      - ./data/:/tmp/
    links:
      - "zbyszko:zbyszko"
    networks:
      dev_net:
        ipv4_address: 172.28.1.4

networks:
  dev_net:
    ipam:
      driver: default
      config:
        - subnet: 172.28.0.0/16
